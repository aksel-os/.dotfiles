
#+title: Muh Dotfiles
#+author: Aksel Olav Steen
#+options: toc:nil

* Steps to install

  1. Install Nix
    #+begin_src sh
    sh <(curl -L https://nixos.org/nix/install)
    #+end_src

  2. Clone this repo
    #+begin_src sh
    git clone --recurse-submodules https://github.com/aksel-os/.dotfiles.git    
    #+end_src

    =--recurse-submodules= will also clone my emacs repo.

  3. cd into =.dotfiles=
   #+begin_src sh
   cd ~/.dotfiles/
   #+end_src

  4. Change placeholders in flake
   #+begin_src sh
   sed -i '' -e 's/ARCHITECTURE/your_architecture/g' -e 's/HOSTNAME/your_hostname/g' -e 's/USERNAME/your_username/g' flake.nix
   #+end_src

   Note: mac requires and empty string for =-i=, if on you're on linux you should
   remove the empty string

  5. Build the flake
    #+begin_src sh    
    nix build .#darwinConfigurations.Hubble.system --extra-experimental-features "nix-command flakes"
    ./result/sw/bin/darwin-rebuild switch --flake .#Hubble
    #+end_src
* Updating

After making any changes to the user level modules, run
#+begin_src sh
make home TRAINER_USER_PROFILE=username
#+end_src

Changes at the system level will require you to run
#+begin_src sh
darwin-rebuilder
#+end_src

* Future plans
Make a cli like GUIX to manage things. Inspired by librephenix and hlissner's dotfiles
